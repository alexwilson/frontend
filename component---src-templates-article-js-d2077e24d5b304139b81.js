"use strict";(self.webpackChunk_alexwilson_personal_website=self.webpackChunk_alexwilson_personal_website||[]).push([[196],{2564:function(e,t,n){n.d(t,{lV:function(){return l},HU:function(){return i},pd:function(){return r},XT:function(){return s},fs:function(){return c}});var a=n(2155);function l(e){let{children:t,...n}=e;return a.createElement("form",Object.assign({className:"alex-form"},n),t)}function r(e){let{children:t,...n}=e;return a.createElement("input",Object.assign({className:"alex-form__input"},n),t)}function i(e){let{children:t,...n}=e;return a.createElement("div",Object.assign({class:"alex-form__inline-group"},n),t)}function c(e){let{children:t,...n}=e;return a.createElement("textarea",{className:"alex-form__input alex-form__input--textarea"},t)}function s(e){let{value:t}=e;return a.createElement("button",{className:"alex-form__input alex-form__input--submit",type:"submit"},t||"Submit")}},5474:function(e,t,n){n.d(t,{A:function(){return l}});var a=n(2155);var l=e=>{let{url:t,title:n}=e;return a.createElement("div",{className:"alex-share"},a.createElement("h3",{className:"share"},"Share"),a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:`https://twitter.com/intent/tweet?url=${t}&amp;text=${n}&amp;related=AlexWilsonV1&amp;via=AlexWilsonV1`},a.createElement("img",{src:"/svg/twitter.svg",alt:"Twitter",title:"Share on Twitter"}))),a.createElement("li",null,a.createElement("a",{href:`http://www.facebook.com/sharer.php?u=${t}&amp;t=${n}`},a.createElement("img",{src:"/svg/facebook.svg",alt:"Facebook",title:"Share on Facebook"}))),a.createElement("li",null,a.createElement("a",{href:`http://www.linkedin.com/shareArticle?mini=true&amp;url=${t}&amp;title=${n}`},a.createElement("img",{src:"/svg/linkedin.svg",alt:"LinkedIn",title:"Share on LinkedIn"}))),a.createElement("li",null,a.createElement("a",{href:`http://reddit.com/submit?url=${t}&amp;title=${n}`},a.createElement("img",{src:"/svg/reddit.svg",alt:"Reddit",title:"Share on Reddit"})))))}},5273:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(2155),l=n(430),r=n(7964),i=n(581),c=n(5474),s=n(588),o=n(2431),m=n.n(o),u=n(8192);const d=e=>t=>t["wm-property"]===e,p=e=>e.filter(d("like-of")),h=e=>e.filter(d("mention-of")),f=e=>e.filter(d("repost-of")),E=e=>e.filter(d("reply-of"));function b(e){let{webmention:t}=e;return a.createElement("a",{href:t.author.url,title:t.author.name},a.createElement(u.A,{src:t.author.photo,width:64,height:64,quality:"lossless",format:"png"}))}function _(e){let{webmentions:t}=e;return a.createElement("ul",null,t.map((e=>a.createElement("li",{key:e["wm-id"]},a.createElement(b,{webmention:e})))))}let w=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={error:null,isLoaded:!1,mentions:[],reposts:[],replies:[],likes:[]},n}(0,s.A)(t,e);var n=t.prototype;return n.fetchWebmentions=async function(e){const t=await Promise.all(e.map((e=>m()(`https://webmention.io/api/mentions.jf2?target=${e}`).then((e=>e.json())).then((e=>e.children))))).then((e=>e.reduce(((e,t)=>e.concat(t)),[]))).catch(console.error);this.setState({reposts:f(t),mentions:h(t),likes:p(t),replies:E(t)})},n.fetchWebmentionsByContentId=async function(e){try{const t=await m()(`https://webmentions.alexwilson.tech/v1/webmention/${e}`);if(!t.ok)return;const{children:n}=await t.json();n&&this.setState({reposts:f(n),mentions:h(n),likes:p(n),replies:E(n)})}catch(t){}},n.componentDidMount=function(){if(this.props.contentId)return void this.fetchWebmentionsByContentId(this.props.contentId);const e=this.props.urls||[];this.props.url&&e.push(this.props.url),e.length>0&&this.fetchWebmentions(e)},n.render=function(){const{likes:e,replies:t,reposts:n,mentions:l}=this.state,r=e.length>0,i=(t.length,n.length>0);l.length;return!1===this.isLoaded?null:a.createElement("div",{className:"alex-webmentions"},r?a.createElement("div",{className:"alex-webmentions__likes"},a.createElement("h3",null,"Likes"),a.createElement(_,{webmentions:e})):null,i?a.createElement("div",{className:"alex-webmentions__reposts"},a.createElement("h3",null,"Reposts"),a.createElement(_,{webmentions:n})):null)},t}(a.Component);var g=w,x=n(2564),y=n(3375),v=n(9065),k=n(7351),N=n(7516);var I=e=>{let{url:t="",title:n="",image:a="",description:l="",dateModified:r=new Date,datePublished:i=new Date}=e;return{"@context":"http://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":t},url:t,headline:n,dateModified:r.toISOString(),datePublished:i.toISOString(),publisher:(0,k.A)(),author:(0,N.A)(),image:a,description:l}},P=n(7686);function A(e){return e.topics.some((e=>{let{topic:t}=e;return"weeknotes"===t}))}var S=e=>{let{article:t}=e;const n=(0,l.GR)("955950066").posts.nodes,r=t.topics.map((e=>e.topicId))||[],i=new Set,c=A(t)?function(e,t){return e.find((e=>A(e)&&new Date(e.date)<new Date(t.date)))||null}(n,t):null;c&&i.add(c);for(let a=6;a>=0&&!(i.size>=3);a--)for(const e of n){if(e.contentId===t.contentId)continue;if(i.size>=3)break;const n=A(e);if(a>=1&&n)continue;let l=0;for(const t of e.topics)r.includes(t.topicId)&&l++;l>=a&&!i.has(e)&&i.add(e)}return a.createElement(a.Fragment,null,Array.from(i.values()).map((e=>a.createElement(P.A,{key:e.contentId,article:e,withBody:!1,withDate:!1}))))};const $=e=>{let{icon:t,children:n}=e;return a.createElement("p",{class:"alex-article__infobox"},n)};var j=e=>{let{data:t,location:n}=e;const s=t.content,o=new URL(n.pathname,t.site.siteMetadata.siteUrl),m=new Date(s.date),u=new Date(s.flast_modified_at||m);return a.createElement(y.A,{location:n},a.createElement(i.A,{location:n,section:"blog",image:s.image.image,linkImplementation:l.N_}),a.createElement("div",{className:"alex-article"},a.createElement("h1",{class:"alex-article__headline",itemProp:"name headline"},s.title),a.createElement("div",{className:"alex-article__main"},a.createElement("div",{className:"alex-article__byline"},"Posted",s.author&&s.author.name?a.createElement(a.Fragment,null," by ",a.createElement("span",{itemProp:"author",itemType:"http://schema.org/Person"},a.createElement("a",{href:"/"},a.createElement("span",{itemProp:"name"},"Alex")))):null,m?a.createElement(a.Fragment,null," on ",a.createElement("time",{className:"alex-article__main__date",dateTime:m,itemProp:"datePublished"},(0,r.GP)(new Date(s.date),"PPPP")),"."):null,s.image.credit?a.createElement(a.Fragment,null,` ${s.image.credit}`):null),a.createElement("article",{dangerouslySetInnerHTML:{__html:s.content.html},className:"alex-article__body article-description",itemProp:"articleBody"}),a.createElement("footer",null,a.createElement($,null,"If you enjoyed this article and want to read more, you can follow me:",a.createElement("ul",{style:{marginTop:0}},a.createElement("li",{class:"bullet--rss"},a.createElement("a",{href:"/feed.xml"},"With your feed reader"),","),a.createElement("li",{class:"bullet--twitter"},"On ",a.createElement("a",{rel:"me",href:"https://twitter.com/alexwilsonv1"},"Twitter")," , ",a.createElement("a",{rel:"me",href:"https://bsky.app/profile/alexwilson.bsky.social"},"Bluesky")," or ",a.createElement("a",{rel:"me",href:"https://mastodon.social/@alexwilson"},"Mastodon"),","),a.createElement("li",{class:"bullet--email"},a.createElement("label",{for:"subscribe_by_email"},"And in your inbox, by email:"),a.createElement(x.lV,{action:"https://tech.us21.list-manage.com/subscribe/post?u=e0869bce049cbcd034fc8edd2&id=7733fc6e4f&f_id=00ef5be1f0",method:"post",rel:"noreferrer",target:"_blank"},a.createElement(x.HU,null,a.createElement(x.pd,{placeholder:"Your email address",type:"email",name:"EMAIL",id:"subscribe_by_email"}),a.createElement(x.XT,{value:"Subscribe"}))))),"Before you go, if you're here via social media: Please leave a like, reply or repost. It really helps with reach!")),a.createElement("div",{class:"alex-article__sharing-block"})),a.createElement("div",{className:"alex-article__aside"},a.createElement("div",{className:"alex-article__aside-start"},s.topics?a.createElement("div",{className:"alex-article__topics"},a.createElement("strong",null,"Topics: "),a.createElement("ul",null,s.topics.map((e=>a.createElement("li",{key:e.topicId},a.createElement(l.N_,{to:e.slug},e.topic)))))):null),a.createElement("div",{className:"alex-article__aside-mid"},a.createElement("div",{className:"alex-article__recommended"},a.createElement("h2",null,"Read Next"),a.createElement(S,{article:s}))),a.createElement("div",{className:"alex-article__aside-bottom alex-article__sharing-block"},a.createElement(c.A,{title:s.title,url:o}),a.createElement(g,{contentId:s.contentId})))),a.createElement(v.A,{title:s.title,description:s.content.excerpt,url:o,image:`${o}/twitter-card.jpg`},a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),a.createElement("meta",{name:"twitter:description",content:s.content.excerpt}),a.createElement("meta",{name:"twitter:site",content:"@alexwilsonv1"}),a.createElement("meta",{name:"twitter:title",content:s.title}),a.createElement("meta",{name:"twitter:image",content:`${o}/twitter-card.jpg`}),a.createElement("script",{type:"application/ld+json"},JSON.stringify(I({url:o,title:s.title,image:s.image.image,description:s.content.excerpt,dateModified:u,datePublished:m})))))}}}]);
//# sourceMappingURL=component---src-templates-article-js-d2077e24d5b304139b81.js.map