(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{KFau:function(e,t,a){},VRlk:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),l=a("Wbzz"),i=a("ADLx"),o=a("sc5K"),c=(a("KFau"),a("HaE+")),s=a("dI71"),m=a("o0o1"),u=a.n(m),d=(a("E9XD"),a("/ouh")),f=a.n(d),p=a("dMdj"),h=a.n(p),E=a("slBm"),v=function(e){return function(t){return t["wm-property"]===e}},g=function(e){return e.filter(v("like-of"))},b=function(e){return e.filter(v("mention-of"))},w=function(e){return e.filter(v("repost-of"))},y=function(e){return e.filter(v("reply-of"))};function _(e){var t=e.webmention;return h.a.createElement("a",{href:t.author.url,title:t.author.name},h.a.createElement(E.a,{src:t.author.photo,width:64,height:64,quality:"lossless",format:"png"}))}function k(e){var t=e.webmentions;return h.a.createElement("ul",null,t.map((function(e){return h.a.createElement("li",{key:e["wm-id"]},h.a.createElement(_,{webmention:e}))})))}var x=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={error:null,isLoaded:!1,mentions:[],reposts:[],replies:[],likes:[]},a}Object(s.a)(t,e);var a=t.prototype;return a.fetchWebmentions=function(){var e=Object(c.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return f()("https://webmention.io/api/mentions.jf2?target="+e).then((function(e){return e.json()})).then((function(e){return e.children}))}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])})).catch(console.error);case 2:a=e.sent,this.setState({reposts:w(a),mentions:b(a),likes:g(a),replies:y(a)});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){var e=this.props.urls||[];this.props.url&&e.push(this.props.url),e.length>0&&this.fetchWebmentions(e)},a.render=function(){var e=this.state,t=e.likes,a=e.replies,n=e.reposts,r=e.mentions,l=t.length>0,i=(a.length,n.length>0);r.length;return!1===this.isLoaded?null:h.a.createElement("div",{className:"alex-webmentions"},l?h.a.createElement("div",{className:"alex-webmentions__likes"},h.a.createElement("h3",null,"Likes"),h.a.createElement(k,{webmentions:t})):null,i?h.a.createElement("div",{className:"alex-webmentions__reposts"},h.a.createElement("h3",null,"Reposts"),h.a.createElement(k,{webmentions:n})):null)},t}(p.Component),S=a("Bl7J"),N=a("vrFN"),A=a("lYb1"),P=a("aFnX"),j=function(e){var t=e.url,a=void 0===t?"":t,n=e.title,r=void 0===n?"":n,l=e.image,i=void 0===l?"":l,o=e.description,c=void 0===o?"":o,s=e.dateModified,m=void 0===s?new Date:s,u=e.datePublished,d=void 0===u?new Date:u;return{"@context":"http://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":a},url:a,headline:r,dateModified:m.toISOString(),datePublished:d.toISOString(),publisher:Object(A.a)(),author:Object(P.a)(),image:i,description:c}},I=a("To1y");function O(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var M=function(e){for(var t=e.article,a=Object(l.c)("2203825502"),n=t.frontmatter.tags||[],i=new Set,o=3;o>=0&&!(i.size>=3);o--)for(var c,s=O(a.posts.nodes);!(c=s()).done;){var m=c.value;if(m.id!==t.id){if(i.size>=3)break;for(var u,d=0,f=O(m.frontmatter.tags);!(u=f()).done;){var p=u.value;n.includes(p)&&d++}d>=o&&!i.has(m)&&i.add(m)}}return r.a.createElement(r.a.Fragment,null,Array.from(i.values()).map((function(e){return r.a.createElement(I.a,{key:e.id,article:e})})))};t.default=function(e){var t=e.data,a=e.location,n=t.markdownRemark,c=new URL(a.pathname,t.site.siteMetadata.siteUrl),s=new URL(n.fields._legacy_slug,t.site.siteMetadata.siteUrl),m=new Date(n.frontmatter.date),u=new Date(n.frontmatter.last_modified_at||m);return r.a.createElement(S.a,{location:a},r.a.createElement(i.a,{location:a,image:n.fields.image}),r.a.createElement("div",{className:"alex-article"},r.a.createElement("div",{className:"alex-article__main"},r.a.createElement("h1",{itemProp:"name headline"},n.frontmatter.title),r.a.createElement("div",{className:"alex-article__main__byline"},"Posted",n.frontmatter.author?r.a.createElement(r.a.Fragment,null," by ",r.a.createElement("span",{itemProp:"author",itemType:"http://schema.org/Person"},r.a.createElement("a",{href:"/"},r.a.createElement("span",{itemProp:"name"},"Alex")))):null,m?r.a.createElement(r.a.Fragment,null," on ",r.a.createElement("time",{className:"alex-article__main__date",dateTime:m,itemProp:"datePublished"},n.fields.formattedDate),"."):null,n.frontmatter.image_credit?r.a.createElement(r.a.Fragment,null," "+n.frontmatter.image_credit):null),r.a.createElement("article",{dangerouslySetInnerHTML:{__html:n.html},className:"alex-article__body article-description",itemProp:"articleBody"}),r.a.createElement("hr",null),r.a.createElement("h3",{className:"share"},"Share"),r.a.createElement(o.a,{title:n.frontmatter.title,url:c}),r.a.createElement(x,{urls:[c,c+"/",s]})),r.a.createElement("div",{className:"alex-article__aside"},n.frontmatter.tags?r.a.createElement("div",{className:"alex-article__topics"},r.a.createElement("strong",null,"Topics: "),r.a.createElement("ul",null,n.frontmatter.tags.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(l.a,{to:"/topic/"+e},e))})))):null,r.a.createElement("div",{className:"alex-article__recommended"},r.a.createElement("h2",null,"Read Next"),r.a.createElement(M,{article:n})))),r.a.createElement(N.a,{title:n.frontmatter.title,description:n.excerpt},r.a.createElement("script",{type:"application/ld+json"},JSON.stringify(j({url:c,title:n.frontmatter.title,image:n.fields.image,description:n.frontmatter.excerpt,dateModified:u,datePublished:m})))))}},sc5K:function(e,t,a){"use strict";a("vAI4");var n=a("dMdj"),r=a.n(n),l=function(e){var t=e.url,a=e.title;return r.a.createElement("div",{className:"alex-share"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/intent/tweet?url="+t+"&amp;text="+a+"&amp;related=AlexWilsonV1&amp;via=AlexWilsonV1"},r.a.createElement("img",{src:"/svg/twitter.svg",alt:"Twitter",title:"Share on Twitter"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.facebook.com/sharer.php?u="+t+"&amp;t="+a},r.a.createElement("img",{src:"/svg/facebook.svg",alt:"Facebook",title:"Share on Facebook"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://www.linkedin.com/shareArticle?mini=true&amp;url="+t+"&amp;title="+a},r.a.createElement("img",{src:"/svg/linkedin.svg",alt:"LinkedIn",title:"Share on LinkedIn"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://reddit.com/submit?url="+t+"&amp;title="+a},r.a.createElement("img",{src:"/svg/reddit.svg",alt:"Reddit",title:"Share on Reddit"})))))};t.a=l},vAI4:function(e,t,a){}}]);
//# sourceMappingURL=component---src-templates-article-js-cc445fa11e4e3bdac3ff.js.map