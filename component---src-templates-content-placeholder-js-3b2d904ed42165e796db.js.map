{"version":3,"file":"component---src-templates-content-placeholder-js-3b2d904ed42165e796db.js","mappings":"yLAsCA,UAvBmCA,IAAyB,IAADC,EAAAC,EAAA,IAAvB,KAAEC,EAAI,SAAEC,GAAUJ,EACpD,MAAMK,EAAaF,EAAKG,QAAQC,MAAQH,EAASI,SAC3CC,EAXkBC,EAACH,EAAKI,KAC9B,IAAKJ,EAAK,OAAOI,EACjB,IACE,OAAO,IAAIC,IAAIL,GAAKM,UACtB,CAAE,MAAOC,GACP,OAAO,IAAIF,IAAIL,EAAKI,GAASE,UAC/B,GAKoBH,CAAkBP,EAAKG,QAAQC,IAAKJ,EAAKY,KAAKC,aAAaL,SAW/E,OAVAM,EAAAA,EAAAA,WAAU,KACHZ,GACHa,OAAOd,SAASe,QAAQV,IAEzB,CAACJ,EAAYI,IAOdW,EAAAA,cAACC,EAAAA,EAAM,CAACjB,SAAUA,GAChBgB,EAAAA,cAACE,EAAAA,EAAG,CAACC,MAAOpB,EAAKG,QAAQiB,MAAOC,YAAyB,QAAdvB,EAAEE,EAAKG,eAAO,IAAAL,GAAS,QAATC,EAAZD,EAAcK,eAAO,IAAAJ,OAAT,EAAZA,EAAuBuB,QAASC,aAAcjB,GACzFW,EAAAA,cAAA,QAAMO,UAAU,UAAUrB,QAAS,UAAUG,SACzC,kBACSW,EAAAA,cAAA,KAAGQ,KAAMnB,GAAcA,GAAgB,O","sources":["webpack://@alexwilson/personal-website/./src/templates/content-placeholder.js"],"sourcesContent":["import React, { useEffect } from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\n\nconst ensureAbsoluteUrl = (url, siteUrl) => {\n  if (!url) return siteUrl\n  try {\n    return new URL(url).toString()\n  } catch (e) {\n    return new URL(url, siteUrl).toString()\n  }\n}\n\nconst ContentPlaceholderTemplate = ({ data, location }) => {\n  const isSamePage = data.content.url === location.pathname\n  const destination = ensureAbsoluteUrl(data.content.url, data.site.siteMetadata.siteUrl)\n  useEffect(() => {\n    if (!isSamePage) {\n      window.location.replace(destination)\n    }\n  }, [isSamePage, destination])\n\n  if (isSamePage) {\n    // return null;\n  }\n\n  return (\n    <Layout location={location}>\n      <SEO title={data.content.title} description={data.content?.content?.excerpt} canonicalUrl={destination}>\n        <meta httpEquiv=\"refresh\" content={`15;url=${destination}?a`} />\n      </SEO>\n      Redirecting to <a href={destination}>{destination}</a>...\n    </Layout>\n  )\n}\n\nexport default ContentPlaceholderTemplate\n\nexport const pageQuery = graphql`\n  fragment PlaceholderContent on MarkdownRemark {\n    excerpt\n  }\n  query PlaceholderBySlug($contentId: String!) {\n    content(contentId: {eq: $contentId}) {\n      contentId\n      title\n      url\n      content: parent {\n        ...PlaceholderContent\n      }\n    }\n    site {\n      siteMetadata {\n        siteUrl\n      }\n    }\n  }\n`\n"],"names":["_ref","_data$content","_data$content$content","data","location","isSamePage","content","url","pathname","destination","ensureAbsoluteUrl","siteUrl","URL","toString","e","site","siteMetadata","useEffect","window","replace","React","Layout","SEO","title","description","excerpt","canonicalUrl","httpEquiv","href"],"sourceRoot":""}