"use strict";(self.webpackChunk_alexwilson_personal_website=self.webpackChunk_alexwilson_personal_website||[]).push([[886],{1626:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(7294),a=function(e){var t=e.url,r=e.title;return n.createElement("div",{className:"alex-share"},n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:"https://twitter.com/intent/tweet?url="+t+"&amp;text="+r+"&amp;related=AlexWilsonV1&amp;via=AlexWilsonV1"},n.createElement("img",{src:"/svg/twitter.svg",alt:"Twitter",title:"Share on Twitter"}))),n.createElement("li",null,n.createElement("a",{href:"http://www.facebook.com/sharer.php?u="+t+"&amp;t="+r},n.createElement("img",{src:"/svg/facebook.svg",alt:"Facebook",title:"Share on Facebook"}))),n.createElement("li",null,n.createElement("a",{href:"http://www.linkedin.com/shareArticle?mini=true&amp;url="+t+"&amp;title="+r},n.createElement("img",{src:"/svg/linkedin.svg",alt:"LinkedIn",title:"Share on LinkedIn"}))),n.createElement("li",null,n.createElement("a",{href:"http://reddit.com/submit?url="+t+"&amp;title="+r},n.createElement("img",{src:"/svg/reddit.svg",alt:"Reddit",title:"Share on Reddit"})))))}},5174:function(e,t,r){r.r(t),r.d(t,{default:function(){return M}});var n=r(7294),a=r(5444),l=r(511),i=r(1626),o=r(5861),c=r(1721),s=r(7757),m=r.n(s),u=r(5628),d=r.n(u),f=r(6810),p=function(e){return function(t){return t["wm-property"]===e}},h=function(e){return e.filter(p("like-of"))},E=function(e){return e.filter(p("mention-of"))},v=function(e){return e.filter(p("repost-of"))},g=function(e){return e.filter(p("reply-of"))};function w(e){var t=e.webmention;return n.createElement("a",{href:t.author.url,title:t.author.name},n.createElement(f.Z,{src:t.author.photo,width:64,height:64,quality:"lossless",format:"png"}))}function b(e){var t=e.webmentions;return n.createElement("ul",null,t.map((function(e){return n.createElement("li",{key:e["wm-id"]},n.createElement(w,{webmention:e}))})))}var _=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={error:null,isLoaded:!1,mentions:[],reposts:[],replies:[],likes:[]},r}(0,c.Z)(t,e);var r=t.prototype;return r.fetchWebmentions=function(){var e=(0,o.Z)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return d()("https://webmention.io/api/mentions.jf2?target="+e).then((function(e){return e.json()})).then((function(e){return e.children}))}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])})).catch(console.error);case 2:r=e.sent,this.setState({reposts:v(r),mentions:E(r),likes:h(r),replies:g(r)});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.componentDidMount=function(){var e=this.props.urls||[];this.props.url&&e.push(this.props.url),e.length>0&&this.fetchWebmentions(e)},r.render=function(){var e=this.state,t=e.likes,r=e.replies,a=e.reposts,l=e.mentions,i=t.length>0,o=(r.length,a.length>0);l.length;return!1===this.isLoaded?null:n.createElement("div",{className:"alex-webmentions"},i?n.createElement("div",{className:"alex-webmentions__likes"},n.createElement("h3",null,"Likes"),n.createElement(b,{webmentions:t})):null,o?n.createElement("div",{className:"alex-webmentions__reposts"},n.createElement("h3",null,"Reposts"),n.createElement(b,{webmentions:a})):null)},t}(n.Component),y=_,k=r(7198),x=r(3751),S=r(6297),N=r(6117),P=function(e){var t=e.url,r=void 0===t?"":t,n=e.title,a=void 0===n?"":n,l=e.image,i=void 0===l?"":l,o=e.description,c=void 0===o?"":o,s=e.dateModified,m=void 0===s?new Date:s,u=e.datePublished,d=void 0===u?new Date:u;return{"@context":"http://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":r},url:r,headline:a,dateModified:m.toISOString(),datePublished:d.toISOString(),publisher:(0,S.Z)(),author:(0,N.Z)(),image:i,description:c}},A=r(1551);function Z(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L=function(e){for(var t=e.article,r=(0,a.K2)("2203825502"),l=t.frontmatter.tags||[],i=new Set,o=3;o>=0&&!(i.size>=3);o--)for(var c,s=Z(r.posts.nodes);!(c=s()).done;){var m=c.value;if(m.id!==t.id){if(i.size>=3)break;for(var u,d=0,f=Z(m.frontmatter.tags);!(u=f()).done;){var p=u.value;l.includes(p)&&d++}d>=o&&!i.has(m)&&i.add(m)}}return n.createElement(n.Fragment,null,Array.from(i.values()).map((function(e){return n.createElement(A.Z,{key:e.id,article:e})})))},M=function(e){var t=e.data,r=e.location,o=t.markdownRemark,c=new URL(r.pathname,t.site.siteMetadata.siteUrl),s=new URL(o.fields._legacy_slug,t.site.siteMetadata.siteUrl),m=new Date(o.frontmatter.date),u=new Date(o.frontmatter.last_modified_at||m);return n.createElement(k.Z,{location:r},n.createElement(l.Z,{location:r,image:o.fields.image}),n.createElement("div",{className:"alex-article"},n.createElement("div",{className:"alex-article__main"},n.createElement("h1",{itemProp:"name headline"},o.frontmatter.title),n.createElement("div",{className:"alex-article__main__byline"},"Posted",o.frontmatter.author?n.createElement(n.Fragment,null," by ",n.createElement("span",{itemProp:"author",itemType:"http://schema.org/Person"},n.createElement("a",{href:"/"},n.createElement("span",{itemProp:"name"},"Alex")))):null,m?n.createElement(n.Fragment,null," on ",n.createElement("time",{className:"alex-article__main__date",dateTime:m,itemProp:"datePublished"},o.fields.formattedDate),"."):null,o.frontmatter.image_credit?n.createElement(n.Fragment,null," "+o.frontmatter.image_credit):null),n.createElement("article",{dangerouslySetInnerHTML:{__html:o.html},className:"alex-article__body article-description",itemProp:"articleBody"}),n.createElement("hr",null),n.createElement("h3",{className:"share"},"Share"),n.createElement(i.Z,{title:o.frontmatter.title,url:c}),n.createElement(y,{urls:[c,c+"/",s]})),n.createElement("div",{className:"alex-article__aside"},o.frontmatter.tags?n.createElement("div",{className:"alex-article__topics"},n.createElement("strong",null,"Topics: "),n.createElement("ul",null,o.frontmatter.tags.map((function(e){return n.createElement("li",{key:e},n.createElement(a.rU,{to:"/topic/"+e},e))})))):null,n.createElement("div",{className:"alex-article__recommended"},n.createElement("h2",null,"Read Next"),n.createElement(L,{article:o})))),n.createElement(x.Z,{title:o.frontmatter.title,description:o.excerpt},n.createElement("script",{type:"application/ld+json"},JSON.stringify(P({url:c,title:o.frontmatter.title,image:o.fields.image,description:o.frontmatter.excerpt,dateModified:u,datePublished:m})))))}}}]);
//# sourceMappingURL=component---src-templates-article-js-b47b31bf08ac94d36c16.js.map