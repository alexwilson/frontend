"use strict";(self.webpackChunk_alexwilson_personal_website=self.webpackChunk_alexwilson_personal_website||[]).push([[196],{5190:function(e,t,n){function l(e,t){if(null==e)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;n[l]=e[l]}return n}n.d(t,{lV:function(){return i},HU:function(){return m},pd:function(){return o},XT:function(){return p},fs:function(){return d}});var a=n(2155);const r=["children"];function i(e){let{children:t}=e,n=l(e,r);return a.createElement("form",Object.assign({className:"alex-form"},n),t)}const c=["children"];function o(e){let{children:t}=e,n=l(e,c);return a.createElement("input",Object.assign({className:"alex-form__input"},n),t)}const s=["children"];function m(e){let{children:t}=e,n=l(e,s);return a.createElement("div",Object.assign({class:"alex-form__inline-group"},n),t)}const u=["children"];function d(e){let{children:t}=e;l(e,u);return a.createElement("textarea",{className:"alex-form__input alex-form__input--textarea"},t)}function p(e){let{value:t}=e;return a.createElement("button",{className:"alex-form__input alex-form__input--submit",type:"submit"},t||"Submit")}},6613:function(e,t,n){n.d(t,{A:function(){return a}});var l=n(2155);var a=e=>{let{url:t,title:n}=e;return l.createElement("div",{className:"alex-share"},l.createElement("h3",{className:"share"},"Share"),l.createElement("ul",null,l.createElement("li",null,l.createElement("a",{href:"https://twitter.com/intent/tweet?url="+t+"&amp;text="+n+"&amp;related=AlexWilsonV1&amp;via=AlexWilsonV1"},l.createElement("img",{src:"/svg/twitter.svg",alt:"Twitter",title:"Share on Twitter"}))),l.createElement("li",null,l.createElement("a",{href:"http://www.facebook.com/sharer.php?u="+t+"&amp;t="+n},l.createElement("img",{src:"/svg/facebook.svg",alt:"Facebook",title:"Share on Facebook"}))),l.createElement("li",null,l.createElement("a",{href:"http://www.linkedin.com/shareArticle?mini=true&amp;url="+t+"&amp;title="+n},l.createElement("img",{src:"/svg/linkedin.svg",alt:"LinkedIn",title:"Share on LinkedIn"}))),l.createElement("li",null,l.createElement("a",{href:"http://reddit.com/submit?url="+t+"&amp;title="+n},l.createElement("img",{src:"/svg/reddit.svg",alt:"Reddit",title:"Share on Reddit"})))))}},9124:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var l=n(2155),a=n(6404),r=n(2763),i=n(9146),c=n(6613),o=n(588),s=n(1593),m=n.n(s),u=n(436);const d=e=>t=>t["wm-property"]===e,p=e=>e.filter(d("like-of")),h=e=>e.filter(d("mention-of")),f=e=>e.filter(d("repost-of")),E=e=>e.filter(d("reply-of"));function b(e){let{webmention:t}=e;return l.createElement("a",{href:t.author.url,title:t.author.name},l.createElement(u.A,{src:t.author.photo,width:64,height:64,quality:"lossless",format:"png"}))}function _(e){let{webmentions:t}=e;return l.createElement("ul",null,t.map((e=>l.createElement("li",{key:e["wm-id"]},l.createElement(b,{webmention:e})))))}let w=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={error:null,isLoaded:!1,mentions:[],reposts:[],replies:[],likes:[]},n}(0,o.A)(t,e);var n=t.prototype;return n.fetchWebmentions=async function(e){const t=await Promise.all(e.map((e=>m()("https://webmention.io/api/mentions.jf2?target="+e).then((e=>e.json())).then((e=>e.children))))).then((e=>e.reduce(((e,t)=>e.concat(t)),[]))).catch(console.error);this.setState({reposts:f(t),mentions:h(t),likes:p(t),replies:E(t)})},n.fetchWebmentionsByContentId=async function(e){try{const t=await m()("https://webmentions.alexwilson.tech/v1/webmention/"+e);if(!t.ok)return;const{children:n}=await t.json();n&&this.setState({reposts:f(n),mentions:h(n),likes:p(n),replies:E(n)})}catch(t){}},n.componentDidMount=function(){if(this.props.contentId)return void this.fetchWebmentionsByContentId(this.props.contentId);const e=this.props.urls||[];this.props.url&&e.push(this.props.url),e.length>0&&this.fetchWebmentions(e)},n.render=function(){const{likes:e,replies:t,reposts:n,mentions:a}=this.state,r=e.length>0,i=(t.length,n.length>0);a.length;return!1===this.isLoaded?null:l.createElement("div",{className:"alex-webmentions"},r?l.createElement("div",{className:"alex-webmentions__likes"},l.createElement("h3",null,"Likes"),l.createElement(_,{webmentions:e})):null,i?l.createElement("div",{className:"alex-webmentions__reposts"},l.createElement("h3",null,"Reposts"),l.createElement(_,{webmentions:n})):null)},t}(l.Component);var g=w,x=n(5190),v=n(8729),y=n(3197),k=n(4643),N=n(3430);var I=e=>{let{url:t="",title:n="",image:l="",description:a="",dateModified:r=new Date,datePublished:i=new Date}=e;return{"@context":"http://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":t},url:t,headline:n,dateModified:r.toISOString(),datePublished:i.toISOString(),publisher:(0,k.A)(),author:(0,N.A)(),image:l,description:a}},P=n(1801);function A(e){return e.topics.some((e=>{let{topic:t}=e;return"weeknotes"===t}))}var S=e=>{let{article:t}=e;const n=(0,a.GR)("955950066").posts.nodes,r=t.topics.map((e=>e.topicId))||[],i=new Set,c=A(t)?function(e,t){return e.find((e=>A(e)&&new Date(e.date)<new Date(t.date)))||null}(n,t):null;c&&i.add(c);for(let l=6;l>=0&&!(i.size>=3);l--)for(const e of n){if(e.contentId===t.contentId)continue;if(i.size>=3)break;const n=A(e);if(l>=1&&n)continue;let a=0;for(const t of e.topics)r.includes(t.topicId)&&a++;a>=l&&!i.has(e)&&i.add(e)}return l.createElement(l.Fragment,null,Array.from(i.values()).map((e=>l.createElement(P.A,{key:e.contentId,article:e,withBody:!1,withDate:!1}))))};const j=e=>{let{icon:t,children:n}=e;return l.createElement("p",{class:"alex-article__infobox"},n)};var O=e=>{let{data:t,location:n}=e;const o=t.content,s=new URL(n.pathname,t.site.siteMetadata.siteUrl),m=new Date(o.date),u=new Date(o.flast_modified_at||m);return l.createElement(v.A,{location:n},l.createElement(i.A,{location:n,section:"blog",image:o.image.image,linkImplementation:a.N_}),l.createElement("div",{className:"alex-article"},l.createElement("h1",{class:"alex-article__headline",itemProp:"name headline"},o.title),l.createElement("div",{className:"alex-article__main"},l.createElement("div",{className:"alex-article__byline"},"Posted",o.author&&o.author.name?l.createElement(l.Fragment,null," by ",l.createElement("span",{itemProp:"author",itemType:"http://schema.org/Person"},l.createElement("a",{href:"/"},l.createElement("span",{itemProp:"name"},"Alex")))):null,m?l.createElement(l.Fragment,null," on ",l.createElement("time",{className:"alex-article__main__date",dateTime:m,itemProp:"datePublished"},(0,r.GP)(new Date(o.date),"PPPP")),"."):null,o.image.credit?l.createElement(l.Fragment,null," "+o.image.credit):null),l.createElement("article",{dangerouslySetInnerHTML:{__html:o.content.html},className:"alex-article__body article-description",itemProp:"articleBody"}),l.createElement("footer",null,l.createElement(j,null,"If you enjoyed this article and want to read more, you can follow me:",l.createElement("ul",{style:{marginTop:0}},l.createElement("li",{class:"bullet--rss"},l.createElement("a",{href:"/feed.xml"},"With your feed reader"),","),l.createElement("li",{class:"bullet--twitter"},"On ",l.createElement("a",{rel:"me",href:"https://twitter.com/alexwilsonv1"},"Twitter")," , ",l.createElement("a",{rel:"me",href:"https://bsky.app/profile/alexwilson.bsky.social"},"Bluesky")," or ",l.createElement("a",{rel:"me",href:"https://mastodon.social/@alexwilson"},"Mastodon"),","),l.createElement("li",{class:"bullet--email"},l.createElement("label",{for:"subscribe_by_email"},"And in your inbox, by email:"),l.createElement(x.lV,{action:"https://tech.us21.list-manage.com/subscribe/post?u=e0869bce049cbcd034fc8edd2&id=7733fc6e4f&f_id=00ef5be1f0",method:"post",rel:"noreferrer",target:"_blank"},l.createElement(x.HU,null,l.createElement(x.pd,{placeholder:"Your email address",type:"email",name:"EMAIL",id:"subscribe_by_email"}),l.createElement(x.XT,{value:"Subscribe"}))))),"Before you go, if you're here via social media: Please leave a like, reply or repost. It really helps with reach!")),l.createElement("div",{class:"alex-article__sharing-block"})),l.createElement("div",{className:"alex-article__aside"},l.createElement("div",{className:"alex-article__aside-start"},o.topics?l.createElement("div",{className:"alex-article__topics"},l.createElement("strong",null,"Topics: "),l.createElement("ul",null,o.topics.map((e=>l.createElement("li",{key:e.topicId},l.createElement(a.N_,{to:e.slug},e.topic)))))):null),l.createElement("div",{className:"alex-article__aside-mid"},l.createElement("div",{className:"alex-article__recommended"},l.createElement("h2",null,"Read Next"),l.createElement(S,{article:o}))),l.createElement("div",{className:"alex-article__aside-bottom alex-article__sharing-block"},l.createElement(c.A,{title:o.title,url:s}),l.createElement(g,{contentId:o.contentId})))),l.createElement(y.A,{title:o.title,description:o.content.excerpt,url:s,image:s+"/twitter-card.jpg"},l.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.createElement("meta",{name:"twitter:description",content:o.content.excerpt}),l.createElement("meta",{name:"twitter:site",content:"@alexwilsonv1"}),l.createElement("meta",{name:"twitter:title",content:o.title}),l.createElement("meta",{name:"twitter:image",content:s+"/twitter-card.jpg"}),l.createElement("script",{type:"application/ld+json"},JSON.stringify(I({url:s,title:o.title,image:o.image.image,description:o.content.excerpt,dateModified:u,datePublished:m})))))}}}]);
//# sourceMappingURL=component---src-templates-article-js-1062b1fe101b563a8bfe.js.map