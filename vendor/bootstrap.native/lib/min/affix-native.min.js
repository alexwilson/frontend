!function(t){"undefined"!=typeof module&&"object"==typeof exports?module.exports="undefined"!=typeof window?t():t:window.Affix=t()}(function(){var t=function(t,e){this.element="object"==typeof t?t:document.querySelector(t),this.options={},this.options.target=e.target?"object"==typeof e.target?e.target:document.querySelector(e.target):null,this.options.offsetTop=e.offsetTop&&e.offsetTop?"function"===e.offsetTop?e.offsetTop():parseInt(e.offsetTop,0):0,this.options.offsetBottom=e.offsetBottom&&e.offsetBottom?"function"===e.offsetBottom?e.offsetBottom():parseInt(e.offsetBottom,0):null,this.element&&(this.options.target||this.options.offsetTop||this.options.offsetBottom)&&this.init()};t.prototype={init:function(){this.affixed=!1,this.affixedBottom=!1,this.getPinOffsetTop=0,this.getPinOffsetBottom=null,this.checkPosition(),this.updateAffix(),this.scrollEvent(),this.resizeEvent()},processOffsetTop:function(){return null!==this.options.target?this.targetRect().top+this.scrollOffset():null!==this.options.offsetTop?this.options.offsetTop:void 0},processOffsetBottom:function(){if(null!==this.options.offsetBottom){var t=this.getMaxScroll();return t-this.elementHeight()-this.options.offsetBottom}},offsetTop:function(){return this.processOffsetTop()},offsetBottom:function(){return this.processOffsetBottom()},checkPosition:function(){this.getPinOffsetTop=this.offsetTop,this.getPinOffsetBottom=this.offsetBottom},scrollOffset:function(){return window.pageYOffset||document.documentElement.scrollTop},pinTop:function(){this.element.classList&&!this.element.classList.contains("affix")&&this.element.classList.add("affix"),this.affixed=!0},unPinTop:function(){this.element.classList&&this.element.classList.contains("affix")&&this.element.classList.remove("affix"),this.affixed=!1},pinBottom:function(){this.element.classList&&!this.element.classList.contains("affix-bottom")&&this.element.classList.add("affix-bottom"),this.affixedBottom=!0},unPinBottom:function(){this.element.classList&&this.element.classList.contains("affix-bottom")&&this.element.classList.remove("affix-bottom"),this.affixedBottom=!1},updatePin:function(){this.affixed===!1&&parseInt(this.offsetTop(),0)-parseInt(this.scrollOffset(),0)<0?this.pinTop():this.affixed===!0&&parseInt(this.scrollOffset(),0)<=parseInt(this.getPinOffsetTop(),0)&&this.unPinTop(),this.affixedBottom===!1&&parseInt(this.offsetBottom(),0)-parseInt(this.scrollOffset(),0)<0?this.pinBottom():this.affixedBottom===!0&&parseInt(this.scrollOffset(),0)<=parseInt(this.getPinOffsetBottom(),0)&&this.unPinBottom()},updateAffix:function(){this.unPinTop(),this.unPinBottom(),this.checkPosition(),this.updatePin()},elementHeight:function(){return this.element.offsetHeight},targetRect:function(){return this.options.target.getBoundingClientRect()},getMaxScroll:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)},scrollEvent:function(){var t=this;window.addEventListener("scroll",affOnScroll=function(){t.updatePin()},!1)},resizeEvent:function(){var t=this;window.addEventListener("resize",affOnResize=function(){setTimeout(function(){t.updateAffix()},100)},!1)}};var e=document.querySelectorAll('[data-spy="affix"]');return[].forEach.call(e,function(e){var o={};return o.offsetTop=e.getAttribute("data-offset-top"),o.offsetBottom=e.getAttribute("data-offset-bottom"),o.target=e.getAttribute("data-target"),!e||null===o.offsetTop&&null===o.offsetBottom&&null===o.target?void 0:new t(e,o)}),t});