{"version":3,"file":"component---src-templates-article-js-8845f1da604115b0fdab.js","mappings":"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","sources":["webpack://@alexwilson/personal-website/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/form.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/input.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/inline-group.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/textarea.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/submit.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/share-widget/index.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/share-widget/share-widget.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/webmentions/webmentions.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/webmentions/index.js","webpack://@alexwilson/personal-website/./src/schema-org/article.js","webpack://@alexwilson/personal-website/./src/components/related-articles.js","webpack://@alexwilson/personal-website/./src/templates/article.js"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react'\nexport default function Form({children, ...props}) {\n  return (\n    <form className=\"alex-form\" {...props}>\n      {children}\n    </form>\n  )\n}\n","import React from 'react'\n\nexport default function Input({children, ...props}) {\n  return (\n    <input className=\"alex-form__input\" {...props}>{children}</input>\n  )\n}\n","import React from 'react'\n\nexport default function InlineGroup({children, ...props}) {\n  return (\n    <div class=\"alex-form__inline-group\" {...props}>\n        {children}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function TextArea({children, ...props}) {\n  return (\n    <textarea className=\"alex-form__input alex-form__input--textarea\">\n      {children}\n    </textarea>\n  )\n}\n","import React from 'react'\n\nexport default function Submit({value}) {\n  return (\n    <button\n      className=\"alex-form__input alex-form__input--submit\"\n      type=\"submit\"\n    >{value ? value : \"Submit\"}</button>\n  )\n}\n","import './share-widget.scss'\nimport ShareWidget from './share-widget'\nexport {ShareWidget}\nexport default ShareWidget\n","import React from 'react'\n\nconst ShareWidget = ({url, title}) => (\n  <div className=\"alex-share\">\n    <h3 className=\"share\">Share</h3>\n    <ul>\n      <li>\n        <a href={`https://twitter.com/intent/tweet?url=${url}&amp;text=${title}&amp;related=AlexWilsonV1&amp;via=AlexWilsonV1`}>\n          <img src=\"/svg/twitter.svg\" alt=\"Twitter\" title=\"Share on Twitter\" />\n        </a>\n      </li>\n      <li>\n        <a href={`http://www.facebook.com/sharer.php?u=${url}&amp;t=${title}`}>\n          <img src=\"/svg/facebook.svg\" alt=\"Facebook\" title=\"Share on Facebook\" />\n        </a>\n      </li>\n      <li>\n        <a href={`http://www.linkedin.com/shareArticle?mini=true&amp;url=${url}&amp;title=${title}`}>\n          <img src=\"/svg/linkedin.svg\" alt=\"LinkedIn\" title=\"Share on LinkedIn\" />\n        </a>\n      </li>\n      <li>\n        <a href={`http://reddit.com/submit?url=${url}&amp;title=${title}`}>\n          <img src=\"/svg/reddit.svg\" alt=\"Reddit\" title=\"Share on Reddit\" />\n        </a>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ShareWidget\n","import fetch from \"isomorphic-fetch\"\nimport React, {Component} from \"react\"\nimport ResponsiveImage from '../responsive-image'\n\nconst webmentionExtractor = wmProperty => mention => mention['wm-property'] === wmProperty\nconst likesFromWebmentions = webmentions => webmentions.filter(webmentionExtractor('like-of'))\nconst mentionsFromWebmentions = webmentions => webmentions.filter(webmentionExtractor('mention-of'))\nconst repostsFromWebmentions = webmentions => webmentions.filter(webmentionExtractor('repost-of'))\nconst repliesFromWebmentions = webmentions => webmentions.filter(webmentionExtractor('reply-of'))\n\nfunction Face({webmention}) {\n  return <a href={webmention.author.url} title={webmention.author.name}>\n    <ResponsiveImage src={webmention.author.photo} width={64} height={64} quality={'lossless'} format={'png'} />\n  </a>\n}\n\nfunction Facestack({webmentions}) {\n  return <ul>{webmentions.map(webmention =>\n      <li key={webmention['wm-id']}><Face webmention={webmention} /></li>\n  )}</ul>\n}\n\nexport default class Webmentions extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      error: null,\n      isLoaded: false,\n      mentions: [],\n      reposts: [],\n      replies: [],\n      likes: []\n    }\n  }\n\n  async fetchWebmentions(urls) {\n    const webmentions = await Promise.all(\n      urls.map(url => fetch(`https://webmention.io/api/mentions.jf2?target=${url}`)\n        .then(res => res.json())\n        .then(feed => feed.children)\n      )\n    )\n    .then(responses => responses.reduce(\n      (all, fragment) => all.concat(fragment), [])\n    )\n    .catch(console.error)\n\n    this.setState({\n      reposts: repostsFromWebmentions(webmentions),\n      mentions: mentionsFromWebmentions(webmentions),\n      likes: likesFromWebmentions(webmentions),\n      replies: repliesFromWebmentions(webmentions)\n    })\n  }\n\n  componentDidMount() {\n    const urls = this.props.urls || []\n    if (this.props.url) {\n      urls.push(this.props.url)\n    }\n    if (urls.length > 0) {\n      this.fetchWebmentions(urls)\n    }\n  }\n\n  render() {\n\n    const {likes, replies, reposts, mentions} = this.state\n\n    const hasLikes = likes.length > 0\n    const hasReplies = replies.length > 0\n    const hasReposts = reposts.length > 0\n    const hasMentions = mentions.length > 0\n\n    return (this.isLoaded === false) ? null : (\n      <div className=\"alex-webmentions\">\n\n        {!hasLikes ? null :\n        <div className=\"alex-webmentions__likes\">\n          <h3>Likes</h3>\n          <Facestack webmentions={likes} />\n        </div>}\n\n        {!hasReposts ? null :\n        <div className=\"alex-webmentions__reposts\">\n          <h3>Reposts</h3>\n          <Facestack webmentions={reposts} />\n        </div>}\n\n        {/* <div className=\"alex-webmentions--comments\">\n        {[...replies, ...mentions].map(comment =>\n            <a key={comment.author.url} href={comment.author.url} title={comment.author.name}>\n              <ResponsiveImage src={comment.author.photo} />\n              <div __dangerouslySetInnerHTML={{html: comment.content.html}}></div>\n            </a>\n          )}\n        </div> */}\n      </div>\n    )\n  }\n}\n\n","import './webmentions.scss'\nimport Webmentions from './webmentions'\nexport {Webmentions}\nexport default Webmentions\n","import Organization from './organization'\nimport Person from './person'\n\nconst Article = ({\n  url = '',\n  title = '',\n  image = '',\n  description = '',\n  dateModified = new Date(),\n  datePublished = new Date()\n}) => ({\n  '@context':'http://schema.org',\n  '@type':'Article',\n  'mainEntityOfPage': {\n    '@type':'WebPage',\n    '@id':url\n  },\n  'url': url,\n  'headline':title,\n  'dateModified': dateModified.toISOString(),\n  'datePublished': datePublished.toISOString(),\n  'publisher': Organization(),\n  'author': Person(),\n  'image': image,\n  'description': description,\n})\n\nexport default Article\n","import React from 'react'\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport ArticleCard from \"@alexwilson/legacy-components/src/article-card\"\n\nexport default ({article: currentArticle}) => {\n  const data = useStaticQuery(graphql`\n    query RelatedArticles {\n      posts: allMarkdownRemark(\n        sort: { order: DESC, fields: [fields___date] }\n        filter: {\n          frontmatter: {\n            date: {ne: null},\n            tags: {ne: null}\n          },\n          fields: {type: {eq: \"posts\"}}\n        }\n        limit: 1000\n      ) {\n        nodes {\n          id\n          fields {\n            slug\n            date\n          }\n          frontmatter {\n            title\n            tags\n          }\n        }\n      }\n    }\n  `)\n\n  const currentArticleTags = currentArticle.frontmatter.tags || []\n\n  const maxArticles = 3\n  const relatedArticles = new Set()\n  for (let granularity = 3; granularity >= 0; granularity--) {\n    if (relatedArticles.size >= maxArticles) break;\n\n    for (const article of data.posts.nodes) {\n      if (article.id === currentArticle.id) continue;\n      if (relatedArticles.size >= maxArticles) break;\n\n      let similarity = 0\n\n      for (const tag of article.frontmatter.tags) {\n        if (currentArticleTags.includes(tag)) {\n          similarity++;\n        }\n      }\n\n      // Match to avoid processing articles multiple times.\n      if (similarity >= granularity && !relatedArticles.has(article)) {\n        relatedArticles.add(article)\n      }\n    }\n\n  }\n\n  return (\n    <>\n      {Array.from(relatedArticles.values()).map(\n        article => <ArticleCard key={article.id} article={article} withBody={false} withDate={false}\n      />)}\n    </>\n  )\n}\n","import React from \"react\"\nimport { graphql, Link } from \"gatsby\"\n\nimport Header from \"@alexwilson/legacy-components/src/header\"\nimport ShareWidget from \"@alexwilson/legacy-components/src/share-widget\"\nimport Webmentions from \"@alexwilson/legacy-components/src/webmentions\"\nimport {Form, InlineGroup, Input, Submit} from \"@alexwilson/legacy-components/src/form\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Article from \"../schema-org/article\";\nimport RelatedArticles from \"../components/related-articles\"\n\nconst InfoBox = ({icon, children}) => (\n  <p class=\"alex-article__infobox\">\n    {children}\n  </p>\n)\n\nconst ArticleTemplate = ({ data, location }) => {\n  const post = data.markdownRemark\n  const url = new URL(location.pathname, data.site.siteMetadata.siteUrl)\n  const alternativeUrl = new URL(post.fields['_legacy_slug'], data.site.siteMetadata.siteUrl)\n\n  const datePublished = new Date(post.frontmatter.date)\n  const dateModified = new Date(post.frontmatter.last_modified_at || datePublished)\n\n  return (\n    <Layout location={location}>\n      <Header location={location} image={post.fields.image} />\n      <div className=\"alex-article\">\n        <h1 class=\"alex-article__headline\" itemProp=\"name headline\">{post.frontmatter.title}</h1>\n        <div className=\"alex-article__main\">\n          <div className=\"alex-article__main__byline\">\n            Posted\n\n            {(post.frontmatter.author ?\n              <>\n                {` by `}\n                <span itemProp=\"author\" itemType=\"http://schema.org/Person\">\n                  <a href=\"/\">\n                    <span itemProp=\"name\">Alex</span>\n                  </a>\n                </span>\n              </>\n            :null)}\n\n            {(datePublished ?\n              <>\n                {` on `}\n                <time\n                  className=\"alex-article__main__date\"\n                  dateTime={datePublished}\n                  itemProp=\"datePublished\"\n                >{post.fields.formattedDate}</time>.\n              </>\n            :null)}\n\n            {(post.frontmatter.image_credit ?\n              <>\n                {` ${post.frontmatter.image_credit}`}\n              </>\n            :null)}\n\n          </div>\n          <article\n            dangerouslySetInnerHTML={{ __html: post.html }}\n            className=\"alex-article__body article-description\"\n            itemProp=\"articleBody\"\n          />\n\n            <footer>\n              <InfoBox>\n                If you enjoyed this article and want to read more, you can follow me:\n                <ul style={{marginTop: 0}}>\n                  <li class=\"bullet--rss\"><a href=\"/feed.xml\">With your feed reader</a>,</li>\n                  <li class=\"bullet--twitter\">\n                    On <a href=\"https://twitter.com/alexwilsonv1\">Twitter</a>,\n                  </li>\n                  <li class=\"bullet--email\">\n                    <label for=\"subscribe_by_email\">Or to my digest, by email:</label>\n                    <Form action=\"http://newsletter.alexwilson.tech/add_subscriber\" method=\"post\" rel=\"noreferrer\" target=\"_blank\">\n                      <InlineGroup>\n                        <Input placeholder=\"Your email address\" type=\"email\" name=\"member[email]\" id=\"subscribe_by_email\" />\n                        <Submit value=\"Subscribe\" />\n                      </InlineGroup>\n                      <div class=\"text--small\">\n                        By subscribing, you agree with Revueâ€™s <a target=\"_blank\" href=\"https://www.getrevue.co/terms\">Terms of Service</a> and <a target=\"_blank\" href=\"https://www.getrevue.co/privacy\">Privacy Policy</a>.\n                      </div>\n                    </Form>\n                  </li>\n                </ul>\n                Before you go, if you're here via social media: Please leave a like, reply or repost. It really helps with reach!\n              </InfoBox>\n            </footer>\n\n          <div class=\"alex-article__sharing-block\">\n\n          </div>\n\n        </div>\n\n\n        <div className=\"alex-article__aside\">\n\n          <div className=\"alex-article__aside-start\">\n\n            {post.frontmatter.tags ?\n            <div className=\"alex-article__topics\">\n              <strong>Topics: </strong>\n              <ul>\n              {post.frontmatter.tags.map(topic => {\n                return <li key={topic}>\n                  <Link to={`/topic/${topic}`}>{topic}</Link>\n                </li>\n              })}\n              </ul>\n            </div>:null}\n\n          </div>\n\n          <div className=\"alex-article__aside-mid\">\n\n            <div className=\"alex-article__recommended\">\n              <h2>Read Next</h2>\n              <RelatedArticles article={post}/>\n            </div>\n\n          </div>\n\n          <div className=\"alex-article__aside-bottom alex-article__sharing-block\">\n\n            <ShareWidget title={post.frontmatter.title} url={url} />\n            <Webmentions urls={[url, `${url}/`, alternativeUrl]} />\n\n          </div>\n\n        </div>\n\n      </div>\n      <SEO title={post.frontmatter.title} description={post.excerpt}>\n        <script type=\"application/ld+json\">{JSON.stringify(Article({\n          url: url,\n          title: post.frontmatter.title,\n          image: post.fields.image,\n          description: post.frontmatter.excerpt,\n          dateModified: dateModified,\n          datePublished: datePublished\n        }))}</script>\n      </SEO>\n    </Layout>\n  )\n}\n\nexport default ArticleTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      html\n      excerpt\n      frontmatter {\n        title\n        tags\n        date\n        last_modified_at\n        author\n        image_credit\n      }\n      fields {\n        formattedDate: date(formatString: \"dddd, MMMM Do, YYYY\")\n        image\n        date\n        slug\n        _legacy_slug\n      }\n    }\n    site {\n      siteMetadata {\n        siteUrl\n      }\n    }\n  }\n`\n"],"names":["_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","Form","children","props","className","Input","InlineGroup","class","TextArea","Submit","value","type","url","title","href","src","alt","webmentionExtractor","wmProperty","mention","likesFromWebmentions","webmentions","filter","mentionsFromWebmentions","repostsFromWebmentions","repliesFromWebmentions","Face","webmention","author","name","photo","width","height","quality","format","Facestack","map","Webmentions","state","error","isLoaded","mentions","reposts","replies","likes","fetchWebmentions","urls","Promise","all","fetch","then","res","json","feed","responses","reduce","fragment","concat","catch","console","this","setState","componentDidMount","push","render","hasLikes","hasReposts","Component","image","description","dateModified","Date","datePublished","toISOString","Organization","Person","currentArticle","article","data","useStaticQuery","currentArticleTags","frontmatter","tags","relatedArticles","Set","granularity","size","posts","nodes","id","similarity","tag","includes","has","add","Array","from","values","withBody","withDate","InfoBox","icon","location","post","markdownRemark","URL","pathname","site","siteMetadata","siteUrl","alternativeUrl","fields","date","last_modified_at","itemProp","itemType","dateTime","formattedDate","image_credit","dangerouslySetInnerHTML","__html","html","style","marginTop","for","action","method","rel","placeholder","topic","to","excerpt","JSON","stringify","Article"],"sourceRoot":""}