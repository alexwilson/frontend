{"version":3,"file":"component---src-templates-article-js-b3edb38e6df13e6fcc51.js","mappings":"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","sources":["webpack://@alexwilson/personal-website/../../components/legacy-components/src/share-widget/share-widget.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/share-widget/index.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/webmentions/webmentions.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/webmentions/index.js","webpack://@alexwilson/personal-website/../../node_modules/.pnpm/@babel+runtime@7.28.3/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/form.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/input.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/inline-group.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/submit.jsx","webpack://@alexwilson/personal-website/../../components/legacy-components/src/form/index.js","webpack://@alexwilson/personal-website/./src/schema-org/article.js","webpack://@alexwilson/personal-website/./src/components/related-articles.js","webpack://@alexwilson/personal-website/./src/templates/article.js"],"sourcesContent":["import React from 'react'\n\nconst ShareWidget = ({url, title}) => (\n  <div className=\"alex-share\">\n    <h3 className=\"share\">Share</h3>\n    <ul>\n      <li>\n        <a href={`https://twitter.com/intent/tweet?url=${url}&amp;text=${title}&amp;related=AlexWilsonV1&amp;via=AlexWilsonV1`}>\n          <img src=\"/svg/twitter.svg\" alt=\"Twitter\" title=\"Share on Twitter\" />\n        </a>\n      </li>\n      <li>\n        <a href={`https://bsky.app/intent/compose?text=${title}%0A${url}`}>\n          <img src=\"/svg/bluesky.svg\" alt=\"Bluesky\" title=\"Share on Bluesky\" />\n        </a>\n      </li>\n      <li>\n        <a href={`http://www.linkedin.com/shareArticle?mini=true&amp;url=${url}&amp;title=${title}`}>\n          <img src=\"/svg/linkedin.svg\" alt=\"LinkedIn\" title=\"Share on LinkedIn\" />\n        </a>\n      </li>\n      <li>\n        <a href={`http://reddit.com/submit?url=${url}&amp;title=${title}`}>\n          <img src=\"/svg/reddit.svg\" alt=\"Reddit\" title=\"Share on Reddit\" />\n        </a>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ShareWidget\n","import './share-widget.scss'\nimport ShareWidget from './share-widget'\nexport {ShareWidget}\nexport default ShareWidget\n","import fetch from \"isomorphic-fetch\";\nimport React, { Component } from \"react\";\nimport ResponsiveImage from \"../responsive-image\";\n\nconst webmentionExtractor = (wmProperty) => (mention) =>\n  mention[\"wm-property\"] === wmProperty;\nconst likesFromWebmentions = (webmentions) =>\n  webmentions.filter(webmentionExtractor(\"like-of\"));\nconst mentionsFromWebmentions = (webmentions) =>\n  webmentions.filter(webmentionExtractor(\"mention-of\"));\nconst repostsFromWebmentions = (webmentions) =>\n  webmentions.filter(webmentionExtractor(\"repost-of\"));\nconst repliesFromWebmentions = (webmentions) =>\n  webmentions.filter(webmentionExtractor(\"reply-of\"));\n\nfunction Face({ webmention }) {\n  return (\n    <a href={webmention.author.url} title={webmention.author.name}>\n      <ResponsiveImage\n        src={webmention.author.photo}\n        width={64}\n        height={64}\n        quality={\"lossless\"}\n        format={\"png\"}\n      />\n    </a>\n  );\n}\n\nfunction Facestack({ webmentions }) {\n  return (\n    <ul>\n      {webmentions.map((webmention) => (\n        <li key={webmention[\"wm-id\"]}>\n          <Face webmention={webmention} />\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default class Webmentions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      mentions: [],\n      reposts: [],\n      replies: [],\n      likes: [],\n    };\n  }\n\n  /**\n   * @deprecated\n   */\n  async fetchWebmentions(urls) {\n    const webmentions = await Promise.all(\n      urls.map((url) =>\n        fetch(`https://webmention.io/api/mentions.jf2?target=${url}`)\n          .then((res) => res.json())\n          .then((feed) => feed.children),\n      ),\n    )\n      .then((responses) =>\n        responses.reduce((all, fragment) => all.concat(fragment), []),\n      )\n      .catch(console.error);\n\n    this.setState({\n      reposts: repostsFromWebmentions(webmentions),\n      mentions: mentionsFromWebmentions(webmentions),\n      likes: likesFromWebmentions(webmentions),\n      replies: repliesFromWebmentions(webmentions),\n    });\n  }\n\n  /**\n   * Fetch webmentions by content ID.\n   * @param {string} contentId\n   * @returns {Promise<void>}\n   */\n  async fetchWebmentionsByContentId(contentId) {\n    try {\n      const request = await fetch(\n        `https://webmentions.alexwilson.tech/v1/webmention/${contentId}`,\n      );\n\n      if (!request.ok) {\n        return;\n      }\n\n      const { children: webmentions } = await request.json();\n\n      if (webmentions) {\n        this.setState({\n          reposts: repostsFromWebmentions(webmentions),\n          mentions: mentionsFromWebmentions(webmentions),\n          likes: likesFromWebmentions(webmentions),\n          replies: repliesFromWebmentions(webmentions),\n        });\n      }\n    } catch (err) {}\n  }\n\n  componentDidMount() {\n    if (this.props.contentId) {\n      this.fetchWebmentionsByContentId(this.props.contentId);\n      return;\n    }\n\n    // Legacy behaviour.\n    const urls = this.props.urls || [];\n    if (this.props.url) {\n      urls.push(this.props.url);\n    }\n    if (urls.length > 0) {\n      this.fetchWebmentions(urls);\n    }\n  }\n\n  render() {\n    const { likes, replies, reposts, mentions } = this.state;\n\n    const hasLikes = likes.length > 0;\n    const hasReplies = replies.length > 0;\n    const hasReposts = reposts.length > 0;\n    const hasMentions = mentions.length > 0;\n\n    return this.isLoaded === false ? null : (\n      <div className=\"alex-webmentions\">\n        {!hasLikes ? null : (\n          <div className=\"alex-webmentions__likes\">\n            <h3>Likes</h3>\n            <Facestack webmentions={likes} />\n          </div>\n        )}\n\n        {!hasReposts ? null : (\n          <div className=\"alex-webmentions__reposts\">\n            <h3>Reposts</h3>\n            <Facestack webmentions={reposts} />\n          </div>\n        )}\n\n        {/* <div className=\"alex-webmentions--comments\">\n        {[...replies, ...mentions].map(comment =>\n            <a key={comment.author.url} href={comment.author.url} title={comment.author.name}>\n              <ResponsiveImage src={comment.author.photo} />\n              <div __dangerouslySetInnerHTML={{html: comment.content.html}}></div>\n            </a>\n          )}\n        </div> */}\n      </div>\n    );\n  }\n}\n","import './webmentions.scss'\nimport Webmentions from './webmentions'\nexport {Webmentions}\nexport default Webmentions\n","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import React from 'react'\nexport default function Form({children, ...props}) {\n  return (\n    <form className=\"alex-form\" {...props}>\n      {children}\n    </form>\n  )\n}\n","import React from 'react'\n\nexport default function Input({children, ...props}) {\n  return (\n    <input className=\"alex-form__input\" {...props}>{children}</input>\n  )\n}\n","import React from 'react'\n\nexport default function InlineGroup({children, ...props}) {\n  return (\n    <div class=\"alex-form__inline-group\" {...props}>\n        {children}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Submit({value}) {\n  return (\n    <button\n      className=\"alex-form__input alex-form__input--submit\"\n      type=\"submit\"\n    >{value ? value : \"Submit\"}</button>\n  )\n}\n","import './form.scss'\nimport Form from './form'\nimport Input from './input'\nimport InlineGroup from './inline-group'\nimport TextArea from './textarea'\nimport Submit from './submit'\n\nexport {Form, Input, InlineGroup, TextArea, Submit}\nexport default Form\n","import Organization from './organization'\nimport Person from './person'\n\nconst Article = ({\n  url = '',\n  title = '',\n  image = '',\n  description = '',\n  dateModified = new Date(),\n  datePublished = new Date()\n}) => ({\n  '@context':'http://schema.org',\n  '@type':'Article',\n  'mainEntityOfPage': {\n    '@type':'WebPage',\n    '@id':url\n  },\n  'url': url,\n  'headline':title,\n  'dateModified': dateModified.toISOString(),\n  'datePublished': datePublished.toISOString(),\n  'publisher': Organization(),\n  'author': Person(),\n  'image': image,\n  'description': description,\n})\n\nexport default Article\n","import React from \"react\";\nimport { useStaticQuery, graphql } from \"gatsby\";\nimport ArticleCard from \"@alexwilson/legacy-components/src/article-card\";\n\nfunction isWeeknote(article) {\n  return article.topics.some(({ topic }) => topic === \"weeknotes\");\n}\n\nfunction findPreviousWeeknote(articles, currentArticle) {\n  // Find the first weeknote that has a date smaller than the current article's date\n  return (\n    articles.find(\n      (article) =>\n        isWeeknote(article) &&\n        new Date(article.date) < new Date(currentArticle.date),\n    ) || null\n  );\n}\n\nexport default ({ article: currentArticle }) => {\n  const data = useStaticQuery(graphql`\n    query RelatedArticles {\n      posts: allContent(\n        sort: { order: DESC, fields: [date] }\n        filter: { type: { eq: \"article\" } }\n        limit: 1000\n      ) {\n        nodes {\n          contentId\n          slug\n          date\n          title\n          topics {\n            topicId\n            topic\n            slug\n          }\n        }\n      }\n    }\n  `);\n\n  const allArticles = data.posts.nodes;\n  const currentArticleTopics =\n    currentArticle.topics.map((topic) => topic.topicId) || [];\n\n  const maxArticles = 3;\n  const relatedArticles = new Set();\n\n  // Find and add the previous weeknote if the current article is a weeknote\n  const previousWeeknote = isWeeknote(currentArticle)\n    ? findPreviousWeeknote(allArticles, currentArticle)\n    : null;\n  if (previousWeeknote) {\n    relatedArticles.add(previousWeeknote);\n  }\n\n  for (let granularity = 6; granularity >= 0; granularity--) {\n    if (relatedArticles.size >= maxArticles) break;\n\n    for (const article of allArticles) {\n      if (article.contentId === currentArticle.contentId) continue;\n      if (relatedArticles.size >= maxArticles) break;\n\n      const relatedArticleIsWeeknote = isWeeknote(article);\n\n      // Hack to reduce relevance of weeknotes.\n      if (granularity >= 1 && relatedArticleIsWeeknote) {\n        continue;\n      }\n\n      let similarity = 0;\n\n      for (const topic of article.topics) {\n        if (currentArticleTopics.includes(topic.topicId)) {\n          similarity++;\n        }\n      }\n\n      // Match to avoid processing articles multiple times.\n      if (similarity >= granularity && !relatedArticles.has(article)) {\n        relatedArticles.add(article);\n      }\n    }\n  }\n\n  return (\n    <>\n      {Array.from(relatedArticles.values()).map((article) => (\n        <ArticleCard\n          key={article.contentId}\n          article={article}\n          withBody={false}\n          withDate={false}\n        />\n      ))}\n    </>\n  );\n};\n","import React from \"react\"\nimport { graphql, Link } from \"gatsby\"\n\nimport { format } from \"date-fns\"\n\nimport Header from \"@alexwilson/legacy-components/src/header\"\nimport ShareWidget from \"@alexwilson/legacy-components/src/share-widget\"\nimport Webmentions from \"@alexwilson/legacy-components/src/webmentions\"\nimport { Form, InlineGroup, Input, Submit } from \"@alexwilson/legacy-components/src/form\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Article from \"../schema-org/article\";\nimport RelatedArticles from \"../components/related-articles\"\n\nconst InfoBox = ({ icon, children }) => (\n  <p class=\"alex-article__infobox\">\n    {children}\n  </p>\n)\n\nconst ArticleTemplate = ({ data, location }) => {\n  const post = data.content\n  const url = new URL(location.pathname, data.site.siteMetadata.siteUrl)\n\n  const datePublished = new Date(post.date)\n  const dateModified = new Date(post.flast_modified_at || datePublished)\n\n  return (\n    <Layout location={location}>\n      <Header location={location} section=\"blog\" image={post.image.image} />\n      <div className=\"alex-article\">\n        <h1 class=\"alex-article__headline\" itemProp=\"name headline\">{post.title}</h1>\n        <div className=\"alex-article__main\">\n          <div className=\"alex-article__byline\">\n            Posted\n\n            {(post.author && post.author.name ?\n              <>\n                {` by `}\n                <span itemProp=\"author\" itemScope itemType=\"http://schema.org/Person\">\n                  <a href=\"/about-me\">\n                    <span itemProp=\"name\">Alex</span>\n                  </a>\n                  <meta itemProp=\"url\" content={`https://alexwilson.tech/`} />\n                </span>\n              </>\n              : null)}\n\n            {(datePublished ?\n              <>\n                {` on `}\n                <time\n                  className=\"alex-article__main__date\"\n                  dateTime={datePublished}\n                  itemProp=\"datePublished\"\n                >{format(new Date(post.date), \"PPPP\")}</time>.\n              </>\n              : null)}\n\n            {(post.image.credit ?\n              <>\n                {` ${post.image.credit}`}\n              </>\n              : null)}\n\n          </div>\n          <article\n            dangerouslySetInnerHTML={{ __html: post.content.html }}\n            className=\"alex-article__body article-description\"\n            itemProp=\"articleBody\"\n          />\n\n          <footer>\n            <InfoBox>\n              If you enjoyed this article and want to read more, you can follow me:\n              <ul style={{ marginTop: 0 }}>\n                <li class=\"bullet--rss\"><a href=\"/feed.xml\">With your feed reader</a>,</li>\n                <li class=\"bullet--twitter\">{`On `}\n                  <a rel=\"me\" href=\"https://twitter.com/alexwilsonv1\">Twitter</a>{` , `}\n                  <a rel=\"me\" href=\"https://bsky.app/profile/alexwilson.bsky.social\">Bluesky</a>{` or `}\n                  <a rel=\"me\" href=\"https://mastodon.social/@alexwilson\">Mastodon</a>,\n                </li>\n                <li class=\"bullet--email\">\n                  <label for=\"subscribe_by_email\">And in your inbox, by email:</label>\n                  <Form action=\"https://tech.us21.list-manage.com/subscribe/post?u=e0869bce049cbcd034fc8edd2&amp;id=7733fc6e4f&amp;f_id=00ef5be1f0\" method=\"post\" rel=\"noreferrer\" target=\"_blank\">\n                    <InlineGroup>\n                      <Input placeholder=\"Your email address\" type=\"email\" name=\"EMAIL\" id=\"subscribe_by_email\" />\n                      <Submit value=\"Subscribe\" />\n                    </InlineGroup>\n                  </Form>\n                </li>\n              </ul>\n              Before you go, if you're here via social media: Please leave a like, reply or repost. It really helps with reach!\n            </InfoBox>\n          </footer>\n\n          <div class=\"alex-article__sharing-block\">\n\n          </div>\n\n        </div>\n\n\n        <div className=\"alex-article__aside\">\n\n          <div className=\"alex-article__aside-start\">\n\n            {post.topics ?\n              <div className=\"alex-article__topics\">\n                <strong>Topics: </strong>\n                <ul>\n                  {post.topics.map(topic => {\n                    return <li key={topic.topicId}>\n                      <Link to={topic.slug}>{topic.topic}</Link>\n                    </li>\n                  })}\n                </ul>\n              </div> : null}\n\n          </div>\n\n          <div className=\"alex-article__aside-mid\">\n\n            <div className=\"alex-article__recommended\">\n              <h2>Read Next</h2>\n              <RelatedArticles article={post} />\n            </div>\n\n          </div>\n\n          <div className=\"alex-article__aside-bottom alex-article__sharing-block\">\n\n            <ShareWidget title={post.title} url={url} />\n            <Webmentions contentId={post.contentId} />\n\n          </div>\n\n        </div>\n\n      </div>\n      <SEO title={post.title} description={post.content.excerpt} url={url} image={`${url}/twitter-card.jpg`}>\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:description\" content={post.content.excerpt} />\n        <meta name=\"twitter:site\" content=\"@alexwilsonv1\" />\n        <meta name=\"twitter:title\" content={post.title} />\n        <meta name=\"twitter:image\" content={`${url}/twitter-card.jpg`} />\n        <script type=\"application/ld+json\">{JSON.stringify(Article({\n          url: url,\n          title: post.title,\n          image: post.image.image,\n          description: post.content.excerpt,\n          dateModified: dateModified,\n          datePublished: datePublished\n        }))}</script>\n      </SEO>\n    </Layout>\n  )\n}\n\nexport default ArticleTemplate\n\nexport const pageQuery = graphql`\n  fragment ArticleContent on MarkdownRemark {\n    html\n    excerpt: excerpt\n  }\n  query BlogPostBySlug($contentId: String!) {\n    content(contentId: {eq: $contentId}) {\n      contentId\n      title\n      author {\n        name\n      }\n      topics {\n        topicId\n        topic\n        slug\n      }\n      date\n      image {\n        image\n        credit\n      }\n      content: parent {\n        ...ArticleContent\n      }\n      slug\n    }\n    site {\n      siteMetadata {\n        siteUrl\n      }\n    }\n  }\n`\n"],"names":["_ref","url","title","React","className","href","src","alt","webmentionExtractor","wmProperty","mention","likesFromWebmentions","webmentions","filter","mentionsFromWebmentions","repostsFromWebmentions","repliesFromWebmentions","Face","webmention","author","name","ResponsiveImage","photo","width","height","quality","format","Facestack","_ref2","map","key","Webmentions","_Component","props","_this","call","state","error","isLoaded","mentions","reposts","replies","likes","_inheritsLoose","_proto","prototype","fetchWebmentions","async","urls","Promise","all","fetch","then","res","json","feed","children","responses","reduce","fragment","concat","catch","console","this","setState","fetchWebmentionsByContentId","contentId","request","ok","err","componentDidMount","push","length","render","hasLikes","hasReposts","Component","r","e","t","n","hasOwnProperty","indexOf","Form","_objectWithoutPropertiesLoose","_excluded","Object","assign","Input","InlineGroup","class","Submit","value","type","image","description","dateModified","Date","datePublished","toISOString","Organization","Person","isWeeknote","article","topics","some","topic","currentArticle","allArticles","useStaticQuery","posts","nodes","currentArticleTopics","topicId","relatedArticles","Set","previousWeeknote","articles","find","date","findPreviousWeeknote","add","granularity","size","relatedArticleIsWeeknote","similarity","includes","has","Array","from","values","ArticleCard","withBody","withDate","InfoBox","icon","data","location","post","content","URL","pathname","site","siteMetadata","siteUrl","flast_modified_at","Layout","Header","section","itemProp","itemScope","itemType","dateTime","credit","dangerouslySetInnerHTML","__html","html","style","marginTop","rel","for","action","method","target","placeholder","id","Link","to","slug","RelatedArticles","ShareWidget","SEO","excerpt","JSON","stringify","Article"],"sourceRoot":""}